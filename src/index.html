<!DOCTYPE html>
<html>
<title>HTML Tutorial</title>

<body>
    <h1>This is a heading</h1>
    <button onclick="changeElement()">changeElement </button>
    <button onclick="changeStyle()">changeStyle </button>
    <button onclick="changeElement3()">changeStyle3 </button>
</body>

<!-- Gapit Code Plugin Code -->
<div id="gapit-root"></div>
<div id="gapit-thanks"></div>
<script>
    var configGapit;
    (function (d, s, id, el, usId, pId) {
        var js = document.createElement(s);
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://dev-thuannv.gapone.vn/js/gapit.min.js';
        document.getElementsByTagName('head')[0].appendChild(js);
        js.onload = function () {
            configGapit = {
                isShowInline: true, // dev
                isShowThanks: false,
                formConfig: {
                    form: {
                        type: 'object',
                        required: ['email'],
                        properties: {
                            name: {
                                type: 'string',
                                title: 'Nhập số điện thoại của bạn'
                            },
                            email: {
                                type: 'string',
                                format: 'email',
                                title: 'Nhập email của bạn'
                            },
                            input: {
                                type: 'submit',
                                title: 'Đăng ký'
                            },
                            zalo: {
                                type: 'zalo_follow',
                                default: '2293893445652565977'
                            }
                        }
                    },
                    messageSuccess: {
                        title: 'Cảm ơn đã đăng kí!',
                        description: 'Kiểm tra email của bạn để biết thông báo xác nhận.',
                    },
                    mesError: 'Lỗi rồi nhé',
                    style: {
                        backgroundColor: '',
                        backgroundImage: 'https://file.hstatic.net/1000300454/file/bannerpopup-bkg_15bc9d9a882d42139e18f88ccb427ca9.jpg',
                        titleColor: '#252a2b',
                        btnSubmitColor: 'yellow',
                        descriptionColor: '#333',
                        messageTitleColor: 'blue',
                        messageDesColor: 'green'
                    },
                    title: 'Đăng ký thành viên geox – nhận ngay voucher trị giá 1.000.000 vnđ',
                    description: 'và rất nhiều ưu đãi khác đang chờ bạn!',
                    formType: 'type1',
                },
                elementId: el,
                trackingId: usId,
                formId: pId,
                oaid: '2293893445652565977',
                paddingColor: '#ffffff',
                borderRadius: 4,
                margin: 35,
                responsive: true,
            };
            GapitScript.init(
                configGapit
            );
        }
    }(
        document,
        'script',
        'gapit-jssdk',
        'gapit-root',
        '110982231248429',
        '110982231248428'
    ));

    // function reunderThank() {
    //     var checkExist = setInterval(function() {
    //         if (configGapit) {
    //             configGapit.extend({
    //                 isShowInline : true,
    //                 isShowThanks: true,
    //                 elementId: 'gapit-thanks'
    //             })
    //             GapitScript.init(
    //                 configGapit
    //             );
    //             clearInterval(checkExist);
    //         }
    //     }, 100)


    // }
    // reunderThank();

    function changeElement() {
        configGapit.formConfig.form = {
            type: 'object',
            required: ['email'],
            properties: {
                name: {
                                type: 'string',
                                title: 'Nhập số điện thoại của bạn'
                            },
                            email: {
                                type: 'string',
                                format: 'email',
                                title: 'Nhập email của bạn'
                            },
                            input: {
                                type: 'submit',
                                title: 'Đăng ký'
                            },
                            zalo: {
                                type: 'zalo_follow',
                                default: '2293893445652565977'
                            }
            }
        };
        GapitScript.reRender(configGapit);
    }

    function changeStyle() {
        configGapit.formConfig.style.extend({
            btnSubmitColor: 'red'
        })
        GapitScript.reRender(configGapit);
    }

    function changeElement3() {
        configGapit.formConfig.style.extend({
            btnSubmitColor: 'yellow'
        })
        configGapit.formConfig.form = {
            type: 'object',
            required: ['email'],
            properties: {
                name: {
                    type: 'string',
                    title: 'Nhập số điện thoại của bạn'
                },
                email: {
                    type: 'string',
                    format: 'email',
                    title: 'Nhập email của bạn'
                },
                input: {
                    type: 'submit',
                    title: 'Đăng ký'
                },
            }
        };
        GapitScript.reRender(configGapit);
    }
</script>
<!-- Gapit End Code -->

</html>